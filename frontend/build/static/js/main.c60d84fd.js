/*! For license information please see main.c60d84fd.js.LICENSE.txt */
(()=>{var e={7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},8724:(e,t,n)=>{var r=n(7615),o=n(5051),i=n(2154),l=n(8734),a=n(2662);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=l,s.prototype.set=a,e.exports=s},7160:(e,t,n)=>{var r=n(7563),o=n(9935),i=n(4190),l=n(1946),a=n(1714);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=l,s.prototype.set=a,e.exports=s},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},4816:(e,t,n)=>{var r=n(7251),o=n(7159),i=n(438),l=n(9394),a=n(6874);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=l,s.prototype.set=a,e.exports=s},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},8902:(e,t,n)=>{var r=n(4816),o=n(6179),i=n(6704);function l(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}l.prototype.add=l.prototype.push=o,l.prototype.has=i,e.exports=l},5538:(e,t,n)=>{var r=n(7160),o=n(4545),i=n(793),l=n(7760),a=n(3892),s=n(6788);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=l,u.prototype.has=a,u.prototype.set=s,e.exports=u},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var l=e[n];t(l,n,e)&&(i[o++]=l)}return i}},3204:(e,t,n)=>{var r=n(3343),o=n(2777),i=n(4052),l=n(4543),a=n(9194),s=n(1268),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),f=!n&&!c&&l(e),d=!n&&!c&&!f&&s(e),p=n||c||f||d,h=p?r(e.length,String):[],y=h.length;for(var v in e)!t&&!u.call(e,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,y))||h.push(v);return h}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},4262:(e,t,n)=>{var r=n(8895),o=n(4052);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},6913:(e,t,n)=>{var r=n(9812),o=n(4552),i=n(6095),l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?o(e):i(e)}},5193:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},6989:(e,t,n)=>{var r=n(6399),o=n(2761);e.exports=function e(t,n,i,l,a){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,l,e,a))}},6399:(e,t,n)=>{var r=n(5538),o=n(3668),i=n(9987),l=n(5752),a=n(6924),s=n(4052),u=n(4543),c=n(1268),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,y,v,m){var g=s(e),b=s(t),x=g?d:a(e),w=b?d:a(t),_=(x=x==f?p:x)==p,k=(w=w==f?p:w)==p,E=x==w;if(E&&u(e)){if(!u(t))return!1;g=!0,_=!1}if(E&&!_)return m||(m=new r),g||c(e)?o(e,t,n,y,v,m):i(e,t,x,n,y,v,m);if(!(1&n)){var O=_&&h.call(e,"__wrapped__"),S=k&&h.call(t,"__wrapped__");if(O||S){var j=O?e.value():e,N=S?t.value():t;return m||(m=new r),v(j,N,n,y,m)}}return!!E&&(m||(m=new r),l(e,t,n,y,v,m))}},6954:(e,t,n)=>{var r=n(1629),o=n(7857),i=n(6686),l=n(6996),a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:a).test(l(e))}},5428:(e,t,n)=>{var r=n(6913),o=n(6173),i=n(2761),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!l[r(e)]}},3713:(e,t,n)=>{var r=n(6140),o=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},8114:e=>{e.exports=function(e,t){return e.has(t)}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3668:(e,t,n)=>{var r=n(8902),o=n(2587),i=n(8114);e.exports=function(e,t,n,l,a,s){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var h=-1,y=!0,v=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var m=e[h],g=t[h];if(l)var b=u?l(g,m,h,t,e,s):l(m,g,h,e,t,s);if(void 0!==b){if(b)continue;y=!1;break}if(v){if(!o(t,(function(e,t){if(!i(v,t)&&(m===e||a(m,e,n,l,s)))return v.push(t)}))){y=!1;break}}else if(m!==g&&!a(m,g,n,l,s)){y=!1;break}}return s.delete(e),s.delete(t),y}},9987:(e,t,n)=>{var r=n(9812),o=n(2929),i=n(3211),l=n(3668),a=n(4160),s=n(2074),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var h=1&r;if(p||(p=s),e.size!=t.size&&!h)return!1;var y=d.get(e);if(y)return y==t;r|=2,d.set(e,t);var v=l(p(e),p(t),r,u,f,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},5752:(e,t,n)=>{var r=n(9395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,l,a){var s=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!s)return!1;for(var f=c;f--;){var d=u[f];if(!(s?d in t:o.call(t,d)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var y=!0;a.set(e,t),a.set(t,e);for(var v=s;++f<c;){var m=e[d=u[f]],g=t[d];if(i)var b=s?i(g,m,d,t,e,a):i(m,g,d,e,t,a);if(!(void 0===b?m===g||l(m,g,n,i,a):b)){y=!1;break}v||(v="constructor"==d)}if(y&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(y=!1)}return a.delete(e),a.delete(t),y}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9395:(e,t,n)=>{var r=n(4262),o=n(9621),i=n(8673);e.exports=function(e){return r(e,i,o)}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},7937:(e,t,n)=>{var r=n(6954),o=n(4657);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4552:(e,t,n)=>{var r=n(9812),o=Object.prototype,i=o.hasOwnProperty,l=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(s){}var o=l.call(e);return r&&(t?e[a]=n:delete e[a]),o}},9621:(e,t,n)=>{var r=n(7529),o=n(7828),i=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,a=l?function(e){return null==e?[]:(e=Object(e),r(l(e),(function(t){return i.call(e,t)})))}:o;e.exports=a},6924:(e,t,n)=>{var r=n(7685),o=n(5204),i=n(5387),l=n(2070),a=n(6600),s=n(6913),u=n(6996),c="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",y=u(r),v=u(o),m=u(i),g=u(l),b=u(a),x=s;(r&&x(new r(new ArrayBuffer(1)))!=h||o&&x(new o)!=c||i&&x(i.resolve())!=f||l&&x(new l)!=d||a&&x(new a)!=p)&&(x=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case y:return h;case v:return c;case m:return f;case g:return d;case b:return p}return t}),e.exports=x},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var r=n(3440),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var r=n(1340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},7251:(e,t,n)=>{var r=n(8724),o=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,l=i&&i.exports===o&&r.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||l&&l.binding&&l.binding("util")}catch(t){}}();e.exports=a},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},6552:(e,t,n)=>{var r=n(7105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),o=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var l=n.__data__;if(!o||l.length<199)return l.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(l)}return n.set(e,t),this.size=n.size,this}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},2777:(e,t,n)=>{var r=n(5193),o=n(2761),i=Object.prototype,l=i.hasOwnProperty,a=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&l.call(e,"callee")&&!a.call(e,"callee")};e.exports=s},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(1629),o=n(6173);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),o=n(14),i=t&&!t.nodeType&&t,l=i&&e&&!e.nodeType&&e,a=l&&l.exports===i?r.Buffer:void 0,s=(a?a.isBuffer:void 0)||o;e.exports=s},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},1629:(e,t,n)=>{var r=n(6913),o=n(6686);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1268:(e,t,n)=>{var r=n(5428),o=n(7574),i=n(6832),l=i&&i.isTypedArray,a=l?o(l):r;e.exports=a},8673:(e,t,n)=>{var r=n(3204),o=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):o(e)}},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://e41a5635-7390-4f7c-a1c4-21e882609c38.preview.emergentagent.com","/api"),$t=()=>{const{user:e,logout:n}=Bt(),[r,o]=(0,t.useState)("dashboard"),[i,l]=(0,t.useState)(1),[a,u]=(0,t.useState)([]),[c,f]=(0,t.useState)(null),[d,p]=(0,t.useState)(!1),[h,y]=(0,t.useState)({title:"",description:"",pages:100,chapters:10,language:"English",writing_style:"story"}),[v,m]=(0,t.useState)(""),[g,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(1),[_,k]=(0,t.useState)({}),[E,O]=(0,t.useState)(!1),[S,j]=(0,t.useState)(0),[N,C]=(0,t.useState)({}),[P,T]=(0,t.useState)(!1),[A,L]=(0,t.useState)(!1),[R,q]=(0,t.useState)(!1),[F,M]=(0,t.useState)(!1),[I,D]=(0,t.useState)(""),[B,z]=(0,t.useState)(!1),U=t.memo((e=>{let{user:t,projects:n,formData:r,loading:o,handleInputChange:i,handleFormSubmit:a,loadProject:s,getWritingStyleDisplay:u,allChapters:c,generateAllChapters:f,generatingAllChapters:d}=e;return(0,It.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[(0,It.jsx)(Vt,{children:(0,It.jsxs)("span",{className:"text-gray-300",children:["Welcome back, ",null===t||void 0===t?void 0:t.name,"!"]})}),(0,It.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,It.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,It.jsxs)("div",{className:"mb-8",children:[(0,It.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Your Books"}),(0,It.jsx)("p",{className:"text-gray-300",children:"Create new books or continue working on existing projects"})]}),(0,It.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl border border-white/10 p-8 mb-8",children:[(0,It.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,It.jsx)("span",{className:"mr-3",children:"\u2728"}),"Create New Book"]}),(0,It.jsxs)("form",{onSubmit:a,className:"space-y-6",children:[(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Book Title *"}),(0,It.jsx)("input",{type:"text",name:"title",value:r.title,onChange:i,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation())},placeholder:"Enter your book title...",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300"})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Book Description *"}),(0,It.jsx)("textarea",{name:"description",value:r.description,onChange:i,onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation())},rows:"4",placeholder:"Describe what your book is about...",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300"})]}),(0,It.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Target Pages"}),(0,It.jsx)("input",{type:"number",name:"pages",value:r.pages,onChange:i,min:"10",max:"1000",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300"})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Number of Chapters"}),(0,It.jsx)("input",{type:"number",name:"chapters",value:r.chapters,onChange:i,min:"1",max:"50",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300"})]})]}),(0,It.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Language"}),(0,It.jsxs)("select",{name:"language",value:r.language,onChange:i,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",children:[(0,It.jsx)("option",{value:"English",children:"English"}),(0,It.jsx)("option",{value:"Spanish",children:"Spanish"}),(0,It.jsx)("option",{value:"French",children:"French"}),(0,It.jsx)("option",{value:"German",children:"German"}),(0,It.jsx)("option",{value:"Italian",children:"Italian"}),(0,It.jsx)("option",{value:"Portuguese",children:"Portuguese"}),(0,It.jsx)("option",{value:"Russian",children:"Russian"}),(0,It.jsx)("option",{value:"Japanese",children:"Japanese"}),(0,It.jsx)("option",{value:"Korean",children:"Korean"}),(0,It.jsx)("option",{value:"Chinese",children:"Chinese"})]})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Writing Style"}),(0,It.jsxs)("select",{name:"writing_style",value:r.writing_style,onChange:i,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",children:[(0,It.jsx)("option",{value:"story",children:"Story (Narrative)"}),(0,It.jsx)("option",{value:"descriptive",children:"Descriptive (Structured)"})]})]})]}),(0,It.jsx)("button",{type:"submit",disabled:o||!r.title||!r.description,className:"w-full px-6 py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold text-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,It.jsxs)("span",{className:"flex items-center justify-center",children:[(0,It.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Creating Project..."]}):"Create Book Project"})]})]}),n.length>0&&(0,It.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl border border-white/10 p-8",children:[(0,It.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,It.jsx)("span",{className:"mr-3",children:"\ud83d\udcda"}),"Your Books"]}),(0,It.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e=>(0,It.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-6 hover:bg-white/10 transition-all duration-300",children:[(0,It.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:e.title}),(0,It.jsx)("p",{className:"text-gray-300 mb-4 text-sm line-clamp-2",children:e.description}),(0,It.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,It.jsxs)("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-xs",children:[e.pages," pages"]}),(0,It.jsxs)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs",children:[e.chapters," chapters"]}),(0,It.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:u(e.writing_style)})]}),(0,It.jsxs)("div",{className:"flex gap-4",children:[c&&Object.keys(c).length>0?(0,It.jsx)("button",{onClick:()=>l(4),className:"px-8 py-4 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-xl font-semibold text-lg hover:from-green-600 hover:to-teal-600 transition-all duration-300 transform hover:scale-105",children:"Edit Book"}):(0,It.jsx)("button",{onClick:f,disabled:o||d,className:"px-8 py-4 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-xl font-semibold text-lg hover:from-green-600 hover:to-teal-600 transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:d?"Generating Chapters...":"Generate All Chapters"}),(0,It.jsx)("button",{onClick:()=>s(e.id),className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-semibold text-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-300 transform hover:scale-105",children:"Load Project"})]})]},e.id)))})]})]})})]})})),H=e=>({story:"\ud83d\udcda Story",descriptive:"\ud83d\udcd6 Descriptive",academic:"\ud83c\udf93 Academic",technical:"\u2699\ufe0f Technical",biography:"\ud83d\udc64 Biography",self_help:"\ud83d\udcaa Self-Help",children:"\ud83e\uddf8 Children's",poetry:"\ud83c\udfad Poetry",business:"\ud83d\udcbc Business"}[e]||"\ud83d\udcda Story");(0,t.useEffect)((()=>{"dashboard"===r&&W()}),[r]);const W=async()=>{try{p(!0);const e=await Mt.get("".concat(Kt,"/projects"));u(e.data)}catch(t){var e;console.error("Error fetching projects:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)&&await n()}finally{p(!1)}},V=async()=>{try{p(!0);const e=await Mt.post("".concat(Kt,"/projects"),h);f(e.data),l(2),o("writing")}catch(t){var e;console.error("Error creating project:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)&&await n()}finally{p(!1)}},K=async e=>{try{p(!0);const t=(await Mt.post("".concat(Kt,"/generate-chapter"),{project_id:c.id,chapter_number:e})).data.chapter_content;k((n=>s(s({},n),{},{[e]:t}))),e===x&&b(t),l(4)}catch(r){var t;console.error("Error generating chapter:",r),401===(null===(t=r.response)||void 0===t?void 0:t.status)&&await n()}finally{p(!1)}},$=async()=>{try{O(!0),C(0);for(let e=1;e<=c.chapters;e++)_[e]||(j(e),await K(e),C(Math.round(e/c.chapters*100)));l(4)}catch(e){console.error("Error generating all chapters:",e)}finally{O(!1),j(0)}};return(0,It.jsxs)("div",{className:"App min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:["dashboard"===r&&(0,It.jsx)(U,{user:e,projects:a,formData:h,loading:d,handleInputChange:e=>{const{name:t,value:n}=e.target;y((e=>s(s({},e),{},{[t]:n})))},handleFormSubmit:e=>{e.preventDefault(),e.stopPropagation(),h.title&&h.description&&!d&&V()},loadProject:async e=>{try{p(!0);const t=(await Mt.get("".concat(Kt,"/projects/").concat(e))).data;f(t),y({title:t.title,description:t.description,pages:t.pages,chapters:t.chapters,language:t.language,writing_style:t.writing_style}),m(t.outline||""),k(t.chapters_content||{});const n=Object.keys(t.chapters_content||{}).map(Number).sort(((e,t)=>e-t));n.length>0?(w(n[0]),b(t.chapters_content[n[0].toString()]||"")):(w(1),b("")),t.outline?l(3):l(2),o("writing")}catch(r){var t;console.error("Error loading project:",r),401===(null===(t=r.response)||void 0===t?void 0:t.status)&&await n()}finally{p(!1)}},getWritingStyleDisplay:H,setCurrentStep:l,allChapters:_,generateAllChapters:$,generatingAllChapters:E}),"writing"===r&&(0,It.jsx)(WritingInterface,{currentProject:c,currentStep:i,setCurrentView:o,setShowExportDropdown:q,showExportDropdown:R,exportBook:async e=>{try{L(!0),q(!1);const t=await Mt.get("".concat(Kt,"/export-book-").concat(e,"/").concat(c.id),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","".concat(c.title,".").concat(e)),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)}catch(r){var t;console.error("Error exporting book:",r),401===(null===(t=r.response)||void 0===t?void 0:t.status)&&await n()}finally{L(!1)}},generateOutline:async()=>{try{p(!0);const e=await Mt.post("".concat(Kt,"/generate-outline"),{project_id:c.id});m(e.data.outline),l(3)}catch(t){var e;console.error("Error generating outline:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)&&await n()}finally{p(!1)}},generateAllChapters:$,generateChapter:K,saveChapter:async()=>{try{T(!0),await Mt.put("".concat(Kt,"/update-chapter"),{project_id:c.id,chapter_number:x,content:g}),k((e=>s(s({},e),{},{[x]:g}))),console.log("Chapter saved successfully")}catch(t){var e;console.error("Error saving chapter:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)&&await n()}finally{T(!1)}},saveOutline:async()=>{try{z(!0),await Mt.put("".concat(Kt,"/update-outline"),{project_id:c.id,outline:I}),m(I),M(!1)}catch(t){var e;console.error("Error saving outline:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status)&&await n()}finally{z(!1)}},switchChapter:e=>{w(e),b(_[e]||"")},updateChapterContent:e=>{b(e)},updateEditableOutline:e=>{D(e)},setIsEditingOutline:M,editBook:()=>{l(1)},loading:d,outline:v,chapterContent:g,currentChapter:x,allChapters:_,generatingAllChapters:E,generatingChapterNum:S,chapterProgress:N,savingChapter:P,exportingBook:A,isEditingOutline:F,editableOutline:I,savingOutline:B,getWritingStyleDisplay:H,quillModules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["link"],["clean"]]}})]})};const Gt=function(){return(0,It.jsx)(f,{clientId:"758478706314-pn8dh4u94p8mt06qialfdigaqs5glj9s.apps.googleusercontent.com",children:(0,It.jsx)(zt,{children:(0,It.jsx)(Wt,{children:(0,It.jsx)($t,{})})})})};r.createRoot(document.getElementById("root")).render((0,It.jsx)(t.StrictMode,{children:(0,It.jsx)(Gt,{})}))})()})();
//# sourceMappingURL=main.c60d84fd.js.map